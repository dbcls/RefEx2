(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{471:function(e,t,o){var content=o(509);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(34).default)("52ffdba2",content,!0,{sourceMap:!1})},507:function(e){e.exports=JSON.parse('[{"name":"TPM","type":"TPM","id":"filter_TPM","list":[{"sample":{"input":"","id":"","description":"","isSelected":false},"cutoff":"","condition":"","statistic":""}],"defaultItem":{"sample":{"input":"","id":"","description":"","isSelected":false},"cutoff":"","condition":"","statistic":""},"columns":[{"name":"Sample","id":"sample","isRequired":true,"placeholder":"search by keywords","inputType":"text"},{"name":"Cutoff (0-1)","id":"cutoff","isRequired":true,"placeholder":"0.1","inputType":"number","min":"0","max":"1"},{"name":"Condition","id":"condition","isRequired":true,"placeholder":"<","inputType":"dropdown","options":[{"description":"<","value":"gt"},{"description":"=","value":"eq"},{"description":">","value":"lt"}]},{"name":"Statistic","id":"statistic","isRequired":true,"placeholder":"max(TPM)","inputType":"dropdown","options":[{"description":"max(TPM)","value":"max(TPM)"},{"description":"min(TPM)","value":"min(TPM)"}]}]},{"name":"Tissue specificity (ROKU)","type":"ROKU","id":"filter_specificity_ROKU","list":[{"group":"","sample":{"input":"","id":"","description":"","isSelected":false},"horl":"","emin":"","emax":""}],"defaultItem":{"group":"","sample":{"input":"","id":"","description":"","isSelected":false},"horl":"","emin":"","emax":""},"columns":[{"name":"Group","id":"group","isRequired":true,"placeholder":"All groups","inputType":"dropdown"},{"name":"Sample","id":"sample","isRequired":true,"placeholder":"search by keywords","inputType":"text"},{"name":"High or Low","id":"horl","isRequired":true,"placeholder":"High","inputType":"dropdown","options":[{"description":"High","value":"high"},{"description":"Low","value":"low"}]},{"name":"Entropy-min (Optional)","id":"emin","isRequired":false,"placeholder":"1","inputType":"number","min":"1","max":"5"},{"name":"Entropy-max (Optional)","id":"emax","isRequired":false,"placeholder":"5","inputType":"number","min":"1","max":"5"}]},{"name":"Tissue specificity (tau)","type":"tau","id":"filter_specificity_tau","list":[{"group":"","cutoff":"","condition":""}],"defaultItem":{"group":"","cutoff":"","condition":""},"columns":[{"name":"Group","id":"group","isRequired":true,"placeholder":"select a group","inputType":"dropdown"},{"name":"Cutoff (0-1)","id":"cutoff","isRequired":true,"placeholder":"0.1","inputType":"number","min":"0","max":"1"},{"name":"Condition","id":"condition","isRequired":true,"placeholder":"<","inputType":"dropdown","options":[{"description":"<","value":"gt"},{"description":"=","value":"eq"},{"description":">","value":"lt"}]}]}]')},508:function(e,t,o){"use strict";o(471)},509:function(e,t,o){var r=o(33)(!1);r.push([e.i,"[data-v-58401a2e] .delete_all,[data-v-58401a2e] svg[data-icon=circle-info]{color:#488ec4;cursor:pointer}[data-v-58401a2e] .multiselect input{width:auto}[data-v-58401a2e] .multiselect input[type=text]{border:none;background:#f5f7f9;width:100%;padding:10px 20px;box-sizing:border-box;border-radius:.2rem;position:relative}[data-v-58401a2e] .multiselect input[type=text]::-moz-placeholder{color:#ccc}[data-v-58401a2e] .multiselect input[type=text]::placeholder{color:#ccc}[data-v-58401a2e] .multiselect input[type=text]:focus{outline:none}[data-v-58401a2e] .multiselect .multiselect__tag{background:#488ec4}[data-v-58401a2e] .multiselect .multiselect__tag>.multiselect__tag-icon{background:none}[data-v-58401a2e] .multiselect .multiselect__tag>.multiselect__tag-icon:after{color:#fff}[data-v-58401a2e] .multiselect .multiselect__tags{border:none;background:#f5f7f9}[data-v-58401a2e] .multiselect .multiselect__option{background:none}[data-v-58401a2e] .multiselect .multiselect__option>.option{display:flex;align-items:center;grid-gap:10px;gap:10px}[data-v-58401a2e] .multiselect .multiselect__option>.option>input[type=checkbox]{cursor:pointer}[data-v-58401a2e] .multiselect .multiselect__element{display:block}[data-v-58401a2e] .multiselect .multiselect__option--highlight{background:#488ec4}[data-v-58401a2e] .multiselect [class^=multiselect__option]:after{content:none}[data-v-58401a2e] .filter+.filter{margin-top:30px}[data-v-58401a2e] .filter_specificity_ROKU table thead,[data-v-58401a2e] .filter_specificity_tau table thead,[data-v-58401a2e] .filter_TPM table thead{height:30px}[data-v-58401a2e] .filter_specificity_ROKU table thead th,[data-v-58401a2e] .filter_specificity_tau table thead th,[data-v-58401a2e] .filter_TPM table thead th{font-size:12px;font-weight:400;text-align:left;text-align:initial}[data-v-58401a2e] .filter_specificity_ROKU table tbody input,[data-v-58401a2e] .filter_specificity_ROKU table tbody select,[data-v-58401a2e] .filter_specificity_tau table tbody input,[data-v-58401a2e] .filter_specificity_tau table tbody select,[data-v-58401a2e] .filter_TPM table tbody input,[data-v-58401a2e] .filter_TPM table tbody select{height:2.25em}[data-v-58401a2e] .filter_specificity_ROKU table tbody .text_search_name input,[data-v-58401a2e] .filter_specificity_tau table tbody .text_search_name input,[data-v-58401a2e] .filter_TPM table tbody .text_search_name input{font-size:20px}[data-v-58401a2e] .filter_specificity_ROKU table tbody select:required:invalid,[data-v-58401a2e] .filter_specificity_tau table tbody select:required:invalid,[data-v-58401a2e] .filter_TPM table tbody select:required:invalid{color:#ccc}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn,[data-v-58401a2e] .filter_TPM table tbody .delete_btn{color:#fff;background:#488ec4;font-size:16px;font-weight:500;border:none;border-radius:.2rem;display:flex;align-items:center;grid-gap:5px;gap:5px;transition:background .3s ease-in-out;align-items:normal;padding:13.5px 22px;cursor:pointer}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn:focus,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn:focus,[data-v-58401a2e] .filter_TPM table tbody .delete_btn:focus{outline:none}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn:hover,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn:hover,[data-v-58401a2e] .filter_TPM table tbody .delete_btn:hover{cursor:pointer;background:#095493}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn>svg,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn>svg,[data-v-58401a2e] .filter_TPM table tbody .delete_btn>svg{display:block;align-self:flex-start}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn.update,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn.update,[data-v-58401a2e] .filter_TPM table tbody .delete_btn.update{background:#ff8a17}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn.update:hover,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn.update:hover,[data-v-58401a2e] .filter_TPM table tbody .delete_btn.update:hover{background:#f06a06}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn.disabled,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn.disabled,[data-v-58401a2e] .filter_TPM table tbody .delete_btn.disabled{background:#ccc;color:#fff;cursor:not-allowed}[data-v-58401a2e] .filter_specificity_ROKU table tbody .delete_btn.disabled:hover,[data-v-58401a2e] .filter_specificity_tau table tbody .delete_btn.disabled:hover,[data-v-58401a2e] .filter_TPM table tbody .delete_btn.disabled:hover{background:#ccc}[data-v-58401a2e] .filter_specificity_ROKU table tbody svg[data-icon=circle-info],[data-v-58401a2e] .filter_specificity_tau table tbody svg[data-icon=circle-info],[data-v-58401a2e] .filter_TPM table tbody svg[data-icon=circle-info]{color:#488ec4}[data-v-58401a2e] .filter_TPM table th .icon,[data-v-58401a2e] .filter_TPM table tr .icon{text-align:center}[data-v-58401a2e] .filter_TPM table th .sample,[data-v-58401a2e] .filter_TPM table tr .sample{width:60%}[data-v-58401a2e] .filter_TPM table th .condition,[data-v-58401a2e] .filter_TPM table th .cutoff,[data-v-58401a2e] .filter_TPM table tr .condition,[data-v-58401a2e] .filter_TPM table tr .cutoff{width:10%}[data-v-58401a2e] .filter_TPM table th .statistic,[data-v-58401a2e] .filter_TPM table tr .statistic{width:20%}[data-v-58401a2e] .filter_specificity_ROKU table th .icon,[data-v-58401a2e] .filter_specificity_ROKU table tr .icon{text-align:center}[data-v-58401a2e] .filter_specificity_ROKU table th .group,[data-v-58401a2e] .filter_specificity_ROKU table tr .group{width:25%}[data-v-58401a2e] .filter_specificity_ROKU table th .sample,[data-v-58401a2e] .filter_specificity_ROKU table tr .sample{width:40%}[data-v-58401a2e] .filter_specificity_ROKU table th .horl,[data-v-58401a2e] .filter_specificity_ROKU table tr .horl{width:15%}[data-v-58401a2e] .filter_specificity_ROKU table th .emax,[data-v-58401a2e] .filter_specificity_ROKU table th .emin,[data-v-58401a2e] .filter_specificity_ROKU table tr .emax,[data-v-58401a2e] .filter_specificity_ROKU table tr .emin{width:10%}[data-v-58401a2e] .filter_specificity_tau table th .icon,[data-v-58401a2e] .filter_specificity_tau table tr .icon{text-align:center}[data-v-58401a2e] .filter_specificity_tau table th .group,[data-v-58401a2e] .filter_specificity_tau table tr .group{width:80%}[data-v-58401a2e] .filter_specificity_tau table th .condition,[data-v-58401a2e] .filter_specificity_tau table th .cutoff,[data-v-58401a2e] .filter_specificity_tau table tr .condition,[data-v-58401a2e] .filter_specificity_tau table tr .cutoff{width:10%}",""]),e.exports=r},518:function(e,t,o){"use strict";o.r(t);o(74),o(76),o(36),o(30),o(43),o(59),o(35),o(60);var r=o(17),n=o(14),l=o(23),c=(o(79),o(123),o(51),o(15),o(44),o(28),o(77),o(241),o(440),o(343),o(75),o(125),o(230),o(73)),d=o(443),f=o.n(d),h=o(483),m=o(507),_=o(100),v=o(414),y=o.n(v);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x=JSON.stringify(m),P=JSON.stringify(_),w=function(){return{chrValue:[],TOGValue:[],temporaryParameters:{goTerm:""},parameters:{go:[]},hideCaret:!1,geneFilters:JSON.parse(x),datasets:JSON.parse(P)}},V={components:{MultiSelect:f.a,ScreenerViewGeneFilter:h.default},data:function(){return T({filterValue:[],TPMValue:[],ROKUValue:[],tauValue:[],autocompleteStaticData:{},chrValue:[],TOGValue:[],chrCheckedValue:[],chrOptions:[],TOGOptions:[],temporaryParameters:{goTerm:""},parameters:{go:[],chromosomePosition:[],typeOfGene:[],filter:[]},autoComplete:{go:[],chromosomePosition:[],typeOfGene:[],filter:[]},debounce:null},w())},computed:T(T({},Object(c.b)({activeDataset:"active_dataset",activeFilter:"active_filter",searchConditions:"get_search_conditions"})),{},{goTermString:function(){return 0===this.parameters.go.length?"":this.parameters.go.map((function(e){return e.id})).join(", ")},placeholderGOTerm:function(){return""===this.temporaryParameters.goTerm&&this.parameters.go.length<1?"transcription factor binding":"Only one tag is allowed"},selection:function(){return this.chrValue.join()},isInitialState:function(){var e=this,t=w();return Object.keys(t).every((function(o){return y.a.isEqual(e.$data[o],t[o])}))}}),watch:{activeDataset:function(){this.parameters={go:[]}},isInitialState:function(e){this.$emit("setChildIsInitialState",e)},parameters:function(){this.$emit("updateParameters",{go:this.goTermString,chromosomePosition:this.chrValue.join(),typeOfGene:this.TOGValue.join(),filter:this.filterValue})},chrValue:function(){var e={type:"gene",item:"chr",value:this.chrValue};this.setSearchConditions(e),this.handleChrTagsUpdate(this.chrValue)},TOGValue:function(){var e={type:"gene",item:"tog",value:this.TOGValue};this.setSearchConditions(e),this.handleTOGTagsUpdate(this.TOGValue)},filterValue:function(e){var t={type:"gene",item:JSON.parse(e.replace(/\\/g,"")).method,value:e};this.setSearchConditions(t),this.handleFilterValueUpdate(this.filterValue)}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getAutoCompleteData().then((function(){})),e.$emit("updateParameters",{go:e.goTermString}),e.$emit("storeInitialParameters",{go:e.goTermString});case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){this.searchConditions.gene.chr&&(this.chrValue=this.searchConditions.gene.chr),this.searchConditions.gene.tog&&(this.TOGValue=this.searchConditions.gene.tog),this.searchConditions.gene.go&&this.setTags(this.searchConditions.gene.go,"go"),this.searchConditions.gene.temporaryParameters&&(this.filterValue=this.searchConditions.gene.tpm),this.searchConditions.gene.roku&&(this.filterValue=this.searchConditions.gene.roku),this.searchConditions.gene.tau&&(this.filterValue=this.searchConditions.gene.tau)},methods:T(T({},Object(c.c)({setSearchConditions:"set_search_conditions"})),{},{resetComponent:function(){Object.assign(this.$data,w())},getAutoCompleteData:function(){var e=this;return this.$axios.$get("api/cv").then((function(data){e.autocompleteStaticData=data,e.chrOptions=data[e.activeDataset.dataset].chromosomePosition.map((function(e){return Number.isNaN(parseInt(e))?e:parseInt(e)})).sort((function(a,b){var e=Object(r.a)(a),t=Object(r.a)(b);return e<t?-1:e>t?1:a<b?-1:a>b?1:0})),e.TOGOptions=data[e.activeDataset.dataset].typeOfGene})).catch((function(t){e.setAlertModal({msg:"Failed to get data in Screener View Sample"})}))},updateAutoComplete:function(){var e=this;clearTimeout(this.debounce);var t='{ goSuggest (text: "'.concat(this.temporaryParameters.goTerm,'", dataset: "').concat(this.activeDataset.dataset,'") { goId, goTerm }}');this.debounce=setTimeout((function(){e.$axios.$post("gql",{query:t}).then((function(t){var o,r;e.$set(e.autoComplete,"go",null===(o=t.data)||void 0===o||null===(r=o.goSuggest)||void 0===r?void 0:r.map((function(a){return{text:a.goTerm,id:a.goId}})))})).catch((function(){return console.warn("Oh. Something went wrong")}))}),300)},handleSingleTagUpdate:function(e,text){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["ti-valid"],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"go";this.parameters[o].find((function(t){return t.id===e}))||(this.$set(this.temporaryParameters,"goTerm",""),this.setTags([{id:e,text:text,tiClasses:t}],o))},handleChrTagsUpdate:function(e){this.parameters=T(T({},this.parameters),{},Object(l.a)({},"chromosomePosition",e.join()))},handleTOGTagsUpdate:function(e){this.parameters=T(T({},this.parameters),{},Object(l.a)({},"typeOfGene",e.join()))},handleFilterValueUpdate:function(e){this.parameters=T(T({},this.parameters),{},Object(l.a)({},"filter",this.filterValue))},setTags:function(e,t){this.parameters=T(T({},this.parameters),{},Object(l.a)({},t,e)),this.hideCaret=0!==e.length;var o={type:"gene",item:"go",value:e};this.setSearchConditions(o)},addFilterValue:function(e,t){switch(e){case"TPM":if(t[0].sample.id&&t[0].cutoff&&t[0].condition&&t[0].statistic){var filter={method:"tpm",sample:t[0].sample.id,value:t[0].cutoff,logic:t[0].condition,statistic:t[0].statistic},o=JSON.stringify(filter).replace(/"/g,'\\"');this.TPMValue=t,this.filterValue=o}break;case"ROKU":if(t[0].group&&t[0].sample.id&&t[0].horl){var r={method:"roku",group:t[0].group,sample:t[0].sample.id,highlow:t[0].horl,entropy_min:t[0].emin,entropy_max:t[0].emax},n=JSON.stringify(r).replace(/"/g,'\\"');this.ROKUValue=t,this.filterValue=n}break;case"tau":if(t[0].group&&t[0].condition&&t[0].cutoff){var l={method:"tau",group:t[0].group,logic:t[0].condition,value:t[0].cutoff},c=JSON.stringify(l).replace(/"/g,'\\"');this.tauValue=t,this.filterValue=c}}}})},S=V,C=(o(508),o(41)),component=Object(C.a)(S,(function(){var e=this,t=e._self._c;return t("div",[t("h3",[e._v("Genes with Chr")]),e._v(" "),t("client-only",[t("multi-select",{attrs:{"allow-empty":!0,"close-on-select":!1,placeholder:"",options:e.chrOptions,multiple:!0},scopedSlots:e._u([{key:"option",fn:function(o){return[t("div",{staticClass:"option"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:e.chrValue.includes(o.option),value:o.option.name}}),e._v(" "),t("span",{staticClass:"option__small"},[e._v(e._s(o.option))])])]}}]),model:{value:e.chrValue,callback:function(t){e.chrValue=t},expression:"chrValue"}})],1),e._v(" "),t("h3",[e._v("Genes with Type of Gene")]),e._v(" "),t("client-only",[t("multi-select",{attrs:{"allow-empty":!0,"close-on-select":!1,placeholder:"",options:e.TOGOptions,multiple:!0},scopedSlots:e._u([{key:"option",fn:function(o){return[t("div",{staticClass:"option"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:e.TOGValue.includes(o.option),value:o.option.name}}),e._v(" "),t("span",{staticClass:"option__small"},[e._v(e._s(o.option))])])]}}]),model:{value:e.TOGValue,callback:function(t){e.TOGValue=t},expression:"TOGValue"}})],1),e._v(" "),t("h3",[e._v("\n    Genes with GO Term\n    "),t("span",{staticClass:"example"},[e._v("e.g.\n      "),t("span",{staticClass:"sample_value",on:{click:function(t){return e.handleSingleTagUpdate("GO:0008134","transcription factor binding")}}},[e._v("transcription factor binding")]),e._v(",\n      "),t("span",{staticClass:"sample_value",on:{click:function(t){return e.handleSingleTagUpdate("GO:0030154","cell differentiation")}}},[e._v("cell differentiation\n      ")])])]),e._v(" "),t("client-only",[t("vue-tags-input",{class:{hide_caret:e.hideCaret},attrs:{tags:e.parameters.go,"autocomplete-items":e.autoComplete.go,"max-tags":1,"add-only-from-autocomplete":"",placeholder:e.placeholderGOTerm},on:{input:e.updateAutoComplete,"tags-changed":function(t){return e.setTags(t,"go")}},scopedSlots:e._u([{key:"autocomplete-item",fn:function(o){var r=o.item;return t("div",{staticClass:"my-item",domProps:{innerHTML:e._s(e.$highlightedSuggestion(r.text,e.temporaryParameters.goTerm))},on:{click:function(t){return e.handleSingleTagUpdate(r.id,r.text)}}})}}]),model:{value:e.temporaryParameters.goTerm,callback:function(t){e.$set(e.temporaryParameters,"goTerm",t)},expression:"temporaryParameters.goTerm"}})],1),e._v(" "),e._l(e.geneFilters,(function(filter,o){return t("ScreenerViewGeneFilter",{key:o,attrs:{filter:e.geneFilters[o],columns:filter.columns,datasets:e.datasets},on:{"update:filter":function(t){return e.$set(e.geneFilters,o,t)},addFilterValue:e.addFilterValue}})}))],2)}),[],!1,null,"58401a2e",null);t.default=component.exports;installComponents(component,{ScreenerViewGeneFilter:o(483).default})}}]);