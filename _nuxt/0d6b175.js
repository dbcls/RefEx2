(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{447:function(e,t,r){r(2)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},470:function(e,t,r){var content=r(503);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(36).default)("a29146b8",content,!0,{sourceMap:!1})},497:function(e){e.exports=JSON.parse('[{"name":"TPM","type":"TPM","id":"filter_TPM","list":[{"sample":{"input":"","id":"","description":"","isSelected":false},"cutoff":"","condition":"","statistic":""}],"defaultItem":{"sample":{"input":"","id":"","description":"","isSelected":false},"cutoff":"","condition":"","statistic":""},"columns":[{"name":"Sample","id":"sample","isRequired":true,"placeholder":"search by keywords","inputType":"text"},{"name":"Cutoff","id":"cutoff","isRequired":true,"placeholder":"0.1","inputType":"number","min":"0","max":"18"},{"name":"Condition","id":"condition","isRequired":true,"placeholder":"<","inputType":"dropdown","options":[{"description":"<","value":"gt"},{"description":"=","value":"eq"},{"description":">","value":"lt"}]},{"name":"Statistic","id":"statistic","isRequired":true,"placeholder":"max(TPM)","inputType":"dropdown","options":[{"description":"max(TPM)","value":"max(TPM)"},{"description":"median(TPM)","value":"median(TPM)"},{"description":"min(TPM)","value":"min(TPM)"}]}]},{"name":"Tissue specificity (ROKU)","type":"ROKU","id":"filter_specificity_ROKU","list":[{"group":"","sample":{"input":"","id":"","description":"","isSelected":false},"horl":"","emin":"","emax":""}],"defaultItem":{"group":"","sample":{"input":"","id":"","description":"","isSelected":false},"horl":"","emin":"","emax":""},"columns":[{"name":"Group","id":"group","isRequired":true,"placeholder":"All groups","inputType":"dropdown"},{"name":"Sample","id":"sample","isRequired":true,"placeholder":"select a group and search by keywords","inputType":"text"},{"name":"High or Low","id":"horl","isRequired":true,"placeholder":"High","inputType":"dropdown","options":[{"description":"High","value":"high"},{"description":"Low","value":"low"}]},{"name":"Entropy-min (Optional)","id":"emin","isRequired":false,"placeholder":"0","inputType":"number","min":"0","max":"5"},{"name":"Entropy-max (Optional)","id":"emax","isRequired":false,"placeholder":"5","inputType":"number","min":"0","max":"5"}]},{"name":"Tissue specificity (tau)","type":"tau","id":"filter_specificity_tau","list":[{"group":"","cutoff":"","condition":""}],"defaultItem":{"group":"","cutoff":"","condition":""},"columns":[{"name":"Group","id":"group","isRequired":true,"placeholder":"select a group","inputType":"dropdown"},{"name":"Cutoff (0-1)","id":"cutoff","isRequired":true,"placeholder":"0.1","inputType":"number","min":"0","max":"1"},{"name":"Condition","id":"condition","isRequired":true,"placeholder":"<","inputType":"dropdown","options":[{"description":"<","value":"gt"},{"description":"=","value":"eq"},{"description":">","value":"lt"}]}]}]')},502:function(e,t,r){"use strict";r(470)},503:function(e,t,r){var n=r(35)((function(i){return i[1]}));n.push([e.i,"[data-v-cb78e560] .filter_search_condition{padding-bottom:15px}[data-v-cb78e560] .multiselect input{width:auto}[data-v-cb78e560] .multiselect input[type=text]{background:#f5f7f9;border:none;border-radius:.2rem;box-sizing:border-box;padding:10px 20px;position:relative;width:100%}[data-v-cb78e560] .multiselect input[type=text]::-moz-placeholder{color:#ccc}[data-v-cb78e560] .multiselect input[type=text]::placeholder{color:#ccc}[data-v-cb78e560] .multiselect input[type=text]:focus{outline:none}[data-v-cb78e560] .multiselect .multiselect__tag{background:#488ec4}[data-v-cb78e560] .multiselect .multiselect__tag>.multiselect__tag-icon{background:none}[data-v-cb78e560] .multiselect .multiselect__tag>.multiselect__tag-icon:after{color:#fff}[data-v-cb78e560] .multiselect .multiselect__tags{background:#f5f7f9;border:none}[data-v-cb78e560] .multiselect .multiselect__option{background:none}[data-v-cb78e560] .multiselect .multiselect__option>.option{align-items:center;display:flex;gap:10px}[data-v-cb78e560] .multiselect .multiselect__option>.option>input[type=checkbox]{cursor:pointer}[data-v-cb78e560] .multiselect .multiselect__element{display:block}[data-v-cb78e560] .multiselect .multiselect__option--highlight{background:#488ec4}[data-v-cb78e560] .multiselect [class^=multiselect__option]:after{content:none}[data-v-cb78e560] .filter{padding:10px}[data-v-cb78e560] .filter_TPM table thead,[data-v-cb78e560] .filter_specificity_ROKU table thead,[data-v-cb78e560] .filter_specificity_tau table thead{height:30px}[data-v-cb78e560] .filter_TPM table thead th,[data-v-cb78e560] .filter_specificity_ROKU table thead th,[data-v-cb78e560] .filter_specificity_tau table thead th{font-size:12px;font-weight:400;text-align:left;text-align:initial}[data-v-cb78e560] .filter_TPM table tbody input,[data-v-cb78e560] .filter_TPM table tbody select,[data-v-cb78e560] .filter_specificity_ROKU table tbody input,[data-v-cb78e560] .filter_specificity_ROKU table tbody select,[data-v-cb78e560] .filter_specificity_tau table tbody input,[data-v-cb78e560] .filter_specificity_tau table tbody select{height:2.25em}[data-v-cb78e560] .filter_TPM table tbody .text_search_name input,[data-v-cb78e560] .filter_specificity_ROKU table tbody .text_search_name input,[data-v-cb78e560] .filter_specificity_tau table tbody .text_search_name input{font-size:20px}[data-v-cb78e560] .filter_TPM table th .icon,[data-v-cb78e560] .filter_TPM table tr .icon{text-align:center}[data-v-cb78e560] .filter_TPM table th .sample,[data-v-cb78e560] .filter_TPM table tr .sample{width:70%}[data-v-cb78e560] .filter_TPM table th .condition,[data-v-cb78e560] .filter_TPM table th .cutoff,[data-v-cb78e560] .filter_TPM table tr .condition,[data-v-cb78e560] .filter_TPM table tr .cutoff{width:10%}[data-v-cb78e560] .filter_TPM table th .statistic,[data-v-cb78e560] .filter_TPM table tr .statistic{width:20%}[data-v-cb78e560] .filter_specificity_ROKU table th .icon,[data-v-cb78e560] .filter_specificity_ROKU table tr .icon{text-align:center}[data-v-cb78e560] .filter_specificity_ROKU table th .group,[data-v-cb78e560] .filter_specificity_ROKU table tr .group{width:25%}[data-v-cb78e560] .filter_specificity_ROKU table th .sample,[data-v-cb78e560] .filter_specificity_ROKU table tr .sample{width:40%}[data-v-cb78e560] .filter_specificity_ROKU table th .horl,[data-v-cb78e560] .filter_specificity_ROKU table tr .horl{width:15%}[data-v-cb78e560] .filter_specificity_ROKU table th .emax,[data-v-cb78e560] .filter_specificity_ROKU table th .emin,[data-v-cb78e560] .filter_specificity_ROKU table tr .emax,[data-v-cb78e560] .filter_specificity_ROKU table tr .emin{width:10%}[data-v-cb78e560] .filter_specificity_tau table th .icon,[data-v-cb78e560] .filter_specificity_tau table tr .icon{text-align:center}[data-v-cb78e560] .filter_specificity_tau table th .group,[data-v-cb78e560] .filter_specificity_tau table tr .group{width:70%}[data-v-cb78e560] .filter_specificity_tau table th .condition,[data-v-cb78e560] .filter_specificity_tau table th .cutoff,[data-v-cb78e560] .filter_specificity_tau table tr .condition,[data-v-cb78e560] .filter_specificity_tau table tr .cutoff{width:15%}",""]),n.locals={},e.exports=n},512:function(e,t,r){"use strict";r.r(t);r(77),r(79),r(38),r(29),r(53),r(32),r(54);var n=r(18),o=r(14),c=r(16),l=(r(80),r(31),r(98),r(56),r(15),r(37),r(244),r(447),r(238),r(78),r(125),r(236),r(26),r(62),r(376)),d=r.n(l),f=r(450),m=r.n(f),h=r(49),_=r(99),v=r(497),y=r(481),O=r(353);function T(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function P(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=JSON.stringify(v),S=JSON.stringify(_),x=function(){return{chrValue:[],TOGValue:[],temporaryParameters:{goTerm:""},parameters:{go:[],chromosomePosition:"",typeOfGene:"",filter:[]},hideCaret:!1,geneFilters:JSON.parse(w),datasets:JSON.parse(S),activeFilterObj:{},filterValue:[],TPMValue:[],ROKUValue:[],tauValue:[]}},V={components:{MultiSelect:m.a,ScreenerViewGeneFilter:y.default,ScreenerView:O.default},data:function(){return P({autocompleteStaticData:{},chrCheckedValue:[],chrOptions:[],TOGOptions:[],autoComplete:{go:[],chromosomePosition:[],typeOfGene:[],filter:[]},debounce:null},x())},computed:P(P({},Object(h.b)({activeDataset:"active_dataset",activeFilter:"active_filter",searchConditions:"get_search_conditions",getScreenerFilterList:"get_screener_filter_list",getActiveGeneFilter:"get_active_gene_filter"})),{},{goTermString:function(){return 0===this.parameters.go.length?"":this.parameters.go.map((function(e){return e.id})).join(", ")},placeholderGOTerm:function(){return!Boolean(this.temporaryParameters.goTerm)&&this.parameters.go.length<1?"transcription factor binding":"Only one tag is allowed"},isInitialState:function(){var e=this,t=x();return Object.keys(t).every((function(r){return d.a.isEqual(e.$data[r],t[r])}))}}),watch:{activeDataset:function(){this.$emit("resetAll")},isInitialState:function(e){this.$emit("setChildIsInitialState",e)},getActiveGeneFilter:function(){this.resetUpdateParameters()},parameters:function(){switch(this.getActiveGeneFilter.id){case"chr":this.$emit("updateParameters",{chromosomePosition:this.chrValue.join()});break;case"type_of_gene":this.$emit("updateParameters",{typeOfGene:this.TOGValue.join()});break;case"go_term":this.$emit("updateParameters",{go:this.goTermString});break;case"filter_TPM":case"filter_specificity_ROKU":case"filter_specificity_tau":this.$emit("updateParameters",{filter:this.filterValue})}},chrValue:function(){var e={type:"gene",item:"chromosomePosition",value:this.chrValue};this.setSearchConditions(e),this.handleChrTagsUpdate(this.chrValue)},TOGValue:function(){var e={type:"gene",item:"typeOfGene",value:this.TOGValue};this.setSearchConditions(e),this.handleTOGTagsUpdate(this.TOGValue)},filterValue:function(e){var t={type:"gene",item:"filter",value:e};this.setSearchConditions(t),this.handleFilterValueUpdate(this.filterValue)}},created:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.getAutoCompleteData().then((function(){})),e.$emit("updateParameters",{go:e.goTermString}),e.initiateParametersDataset();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){this.searchConditions.gene.chromosomePosition&&(this.chrValue=this.searchConditions.gene.chromosomePosition),this.searchConditions.gene.typeOfGene&&(this.TOGValue=this.searchConditions.gene.typeOfGene),this.searchConditions.gene.go&&this.setTags(this.searchConditions.gene.go,"go"),this.searchConditions.gene.filter&&(this.filterValue=this.searchConditions.gene.filter),this.getScreenerFilterList.activeFilterObj&&(this.activeFilterObj=this.getScreenerFilterList.activeFilterObj)},methods:P(P({},Object(h.c)({setSearchConditions:"set_search_conditions",setScreenerFilterList:"set_screener_filter_list",setActiveGeneFilter:"set_active_gene_filter"})),{},{resetUpdateParameters:function(){this.$emit("updateParameters",{})},handleStoreInitialParameters:function(){this.$emit("storeInitialParameters",{})},resetComponent:function(){Object.assign(this.$data,x())},initiateParametersDataset:function(){var e={go:"",chromosomePosition:"",typeOfGene:"",filter:[]};this.$emit("updateParameters",P({},e)),this.$emit("storeInitialParameters",P({},e))},getAutoCompleteData:function(){var e=this;return this.$axios.$get("api/cv").then((function(data){e.autocompleteStaticData=data,e.chrOptions=data[e.activeDataset.dataset].chromosomePosition.map((function(e){return Number.isNaN(parseInt(e))?e:parseInt(e)})).sort((function(a,b){var e=Object(n.a)(a),t=Object(n.a)(b);return e<t?-1:e>t?1:a<b?-1:a>b?1:0})),e.TOGOptions=data[e.activeDataset.dataset].typeOfGene})).catch((function(t){e.setAlertModal({msg:"Failed to get data in Screener View Sample"})}))},updateAutoComplete:function(){var e=this;clearTimeout(this.debounce);var t='{ goSuggest (text: "'.concat(this.temporaryParameters.goTerm,'", dataset: "').concat(this.activeDataset.dataset,'") { goId, goTerm }}');this.debounce=setTimeout((function(){e.$axios.$post("gql",{query:t}).then((function(t){var r,n;e.$set(e.autoComplete,"go",null===(r=t.data)||void 0===r||null===(n=r.goSuggest)||void 0===n?void 0:n.map((function(a){return{text:a.goTerm,id:a.goId}})))})).catch((function(){return console.warn("Oh. Something went wrong")}))}),300)},handleSingleTagUpdate:function(e,text){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["ti-valid"],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"go";this.parameters[r].find((function(t){return t.id===e}))||(this.$set(this.temporaryParameters,"goTerm",""),this.setTags([{id:e,text:text,tiClasses:t}],r))},handleChrTagsUpdate:function(e){this.parameters=P(P({},this.parameters),{},Object(c.a)({},"chromosomePosition",e.join()))},handleTOGTagsUpdate:function(e){this.parameters=P(P({},this.parameters),{},Object(c.a)({},"typeOfGene",e.join()))},handleFilterValueUpdate:function(e){this.parameters=P(P({},this.parameters),{},Object(c.a)({},"filter",this.filterValue))},setTags:function(e,t){this.parameters=P(P({},this.parameters),{},Object(c.a)({},t,e)),this.hideCaret=0!==e.length;var r={type:"gene",item:"go",value:e};this.setSearchConditions(r)},addFilterValue:function(e,t){switch(e){case"TPM":if(t[0].sample.id&&t[0].cutoff&&t[0].condition&&t[0].statistic){var filter={method:"tpm",sample:t[0].sample.id,value:t[0].cutoff,logic:t[0].condition,statistic:t[0].statistic},r=JSON.stringify(filter).replace(/"/g,'\\"');this.TPMValue=t,this.filterValue=r,filter.method=filter.method.toUpperCase(),this.activeFilterObj=filter}break;case"ROKU":if(t[0].group&&t[0].sample.id&&t[0].horl){var n={method:"roku",group:t[0].group,sample:t[0].sample.id,highlow:t[0].horl,entropy_min:t[0].emin,entropy_max:t[0].emax},o=JSON.stringify(n).replace(/"/g,'\\"');this.ROKUValue=t,this.filterValue=o,n.method=n.method.toUpperCase(),this.activeFilterObj=n}break;case"tau":if(t[0].group&&t[0].condition&&t[0].cutoff){var c={method:"tau",group:t[0].group,logic:t[0].condition,value:t[0].cutoff},l=JSON.stringify(c).replace(/"/g,'\\"');this.tauValue=t,this.filterValue=l,this.activeFilterObj=c}}var f={type:e.toLowerCase(),list:d.a.cloneDeep(t),activeFilterObj:this.activeFilterObj};this.setScreenerFilterList(f)},updateScreenerFilterList:function(e){this.geneFilters[e].list=this.getScreenerFilterList.list}})},C=V,j=(r(502),r(48)),component=Object(j.a)(C,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"filter_search_condition"},[t("b",[e._v(e._s(""===e.getActiveGeneFilter.id?"NO":e.getActiveGeneFilter.title))]),e._v("\n    filter will be applied to the search conditions.\n  ")]),e._v(" "),t("ScreenerView",{attrs:{id:"chr",title:"Genes with Chr"}},[t("client-only",[t("multi-select",{attrs:{"allow-empty":!0,"close-on-select":!1,placeholder:"",options:e.chrOptions,multiple:!0},scopedSlots:e._u([{key:"option",fn:function(r){return[t("div",{staticClass:"option"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:e.chrValue.includes(r.option),value:r.option.name}}),e._v(" "),t("span",{staticClass:"option__small"},[e._v(e._s(r.option))])])]}}]),model:{value:e.chrValue,callback:function(t){e.chrValue=t},expression:"chrValue"}})],1)],1),e._v(" "),t("ScreenerView",{attrs:{id:"type_of_gene",title:"Genes with Type of Gene"}},[t("client-only",[t("multi-select",{attrs:{"allow-empty":!0,"close-on-select":!1,placeholder:"",options:e.TOGOptions,multiple:!0},scopedSlots:e._u([{key:"option",fn:function(r){return[t("div",{staticClass:"option"},[t("input",{attrs:{type:"checkbox"},domProps:{checked:e.TOGValue.includes(r.option),value:r.option.name}}),e._v(" "),t("span",{staticClass:"option__small"},[e._v(e._s(r.option))])])]}}]),model:{value:e.TOGValue,callback:function(t){e.TOGValue=t},expression:"TOGValue"}})],1)],1),e._v(" "),t("ScreenerView",{attrs:{id:"go_term",title:"Genes with GO Term"}},[t("div",{staticClass:"example_wrapper"},[t("span",{staticClass:"example"},[e._v("e.g.\n        "),t("span",{staticClass:"sample_value",on:{click:function(t){return e.handleSingleTagUpdate("GO:0008134","transcription factor binding")}}},[e._v("transcription factor binding")]),e._v(",\n        "),t("span",{staticClass:"sample_value",on:{click:function(t){return e.handleSingleTagUpdate("GO:0030154","cell differentiation")}}},[e._v("cell differentiation\n        ")])])]),e._v(" "),t("client-only",[t("vue-tags-input",{class:{hide_caret:e.hideCaret},attrs:{tags:e.parameters.go,"autocomplete-items":e.autoComplete.go,"max-tags":1,"add-only-from-autocomplete":"",placeholder:e.placeholderGOTerm},on:{input:e.updateAutoComplete,"tags-changed":function(t){return e.setTags(t,"go")}},scopedSlots:e._u([{key:"autocomplete-item",fn:function(r){var n=r.item;return t("div",{staticClass:"my-item",domProps:{innerHTML:e._s(e.$highlightedSuggestion(n.text,e.temporaryParameters.goTerm))},on:{click:function(t){return e.handleSingleTagUpdate(n.id,n.text)}}})}}]),model:{value:e.temporaryParameters.goTerm,callback:function(t){e.$set(e.temporaryParameters,"goTerm",t)},expression:"temporaryParameters.goTerm"}})],1)],1),e._v(" "),e._l(e.geneFilters,(function(filter,r){return t("ScreenerViewGeneFilter",{key:r,attrs:{filter:e.geneFilters[r],"active-filter-obj":e.activeFilterObj,columns:filter.columns,datasets:e.datasets},on:{"update:filter":function(t){return e.$set(e.geneFilters,r,t)},"update:activeFilterObj":function(t){e.activeFilterObj=t},"update:active-filter-obj":function(t){e.activeFilterObj=t},addFilterValue:e.addFilterValue,resetUpdateParameters:e.resetUpdateParameters,resetActiveFilterObj:function(t){e.activeFilterObj={}},updateScreenerFilterList:e.updateScreenerFilterList}})}))],2)}),[],!1,null,"cb78e560",null);t.default=component.exports;installComponents(component,{ScreenerView:r(353).default,ScreenerViewGeneFilter:r(481).default})}}]);